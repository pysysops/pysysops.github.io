= Testing DNS Infrastructure with Goss
:hp-tags: Goss, DNS, Testing, DevOps, Linux, Monitoring
:hp-image: /images/covers/OFFLINE.jpg

In a previous post we got an introduction to http://www.pysysops.com/2017/01/10/Easy-Infrastructure-Testing-with-Goss.html["Easy Infrastructure Testing with Goss"].

In this post we'll take a look at a feature I added to http://goss.rocks[Goss] a while ago. Enhanced DNS validation.

== Why test DNS? 
DNS is easy right? It's just an IP address and a hostname. Easy... We've definitely never had an outage or failed to deploy a new application because of a DNS issue have we?

DNS can get a little more interesting when you start chaining CNAMEs, have multiple A records for a hostname and introduce DNSSEC. PTR records which reverse map an IP to a hostname are aften used by various server applications for security purposes.

If DNS configuration is out of your control and another team forgets to add the records you need correctly you can end up wasting hours troubleshooting why various applications won't start up, clients fail to connect and you have SSL connection errors.

Testing your DNS with Goss will solve ALL these problems. Okay, that's a lie. It can help you identify when DNS records aren't quite right, have changed, or are missing before deploying a new application.

== What can Goss test?
Goas can test the following DNS record types:

* A
* AAAA
* CAA
* CNAME
* MX
* NS
* PTR
* SRV
* TXT